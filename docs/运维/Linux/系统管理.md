# 系统管理

---

## 进程与服务

- **进程(process)** : 一个正在执行的程序或命令。
- **服务(service)** : 启动之后一直存在、常驻内存的进程。 
- **系统服务** : 系统运行所需要的服务。
- **守护进程(daemon)** : 具体执行 **系统服务** 的进程

## service 命令(CentOS6)

### 基本语法

`service 服务名 start|stop|restart|status`

### 查看所有服务

- CentOS 6 版本中，在 `/etc/init.d`  目录下保存了 service 命令可以操作的所有服务。
- 我们看到这里服务其实只有 netconsole 和 network (它们都是可执行文件) ，因为 CentOS 7 做了改动，改用 systemctl 命令，但仍兼容了 service 命令。

````sh
[root@start100 ~]# cd /etc/init.d/
[root@start100 init.d]# ls -a
.  ..  functions  netconsole  network  README
````

## systemctl 命令(CentOS7)

### 基本语法

- 即 `system control`

`systemctl start|stop|restart|status 服务名` 

### 查看所有服务

- CentOS 7 版本中，在 `/usr/lib/systemd/system` 目录下有着各种系统服务

  ```sh
  [root@start100 init.d]# ls /usr/lib/systemd/system
  abrt-ccpp.service                        plymouth-quit-wait.service
  abrtd.service                            plymouth-read-write.service
  abrt-oops.service                        plymouth-reboot.service
  abrt-pstoreoops.service                  plymouth-start.service
  abrt-vmcore.service                      plymouth-switch-root.service
  abrt-xorg.service                        polkit.service
  accounts-daemon.service                  postfix.service
  alsa-restore.service                     poweroff.target
  alsa-state.service                       poweroff.target.wants
  anaconda-direct.service                  printer.target
  anaconda-nm-config.service               proc-fs-nfsd.mount
  anaconda-noshell.service                 proc-sys-fs-binfmt_misc.automount
  anaconda-pre.service                     proc-sys-fs-binfmt_misc.mount
  anaconda.service                         psacct.service
  anaconda-shell@.service                  qemu-guest-agent.service
  anaconda-sshd.service                    quotaon.service
  anaconda.target                          radvd.service
  anaconda-tmux@.service                   rc-local.service
  arp-ethers.service                       rdisc.service
  atd.service                              rdma-hw.target
  auditd.service                           rdma-load-modules@.service
  auth-rpcgss-module.service               rdma-ndd.service
  autofs.service                           rdma.service
  autovt@.service                          realmd.service
  avahi-daemon.service                     reboot.target
  avahi-daemon.socket                      reboot.target.wants
  basic.target                             remote-cryptsetup.target
  basic.target.wants                       remote-fs-pre.target
  blk-availability.service                 remote-fs.target
  bluetooth.service                        rescue.service
  bluetooth.target                         rescue.target
  bolt.service                             rescue.target.wants
  brandbot.path                            rhel-autorelabel-mark.service
  brandbot.service                         rhel-autorelabel.service
  brltty.service                           rhel-configure.service
  canberra-system-bootup.service           rhel-dmesg.service
  canberra-system-shutdown-reboot.service  rhel-domainname.service
  canberra-system-shutdown.service         rhel-import-state.service
  certmonger.service                       rhel-loadmodules.service
  cgconfig.service                         rhel-readonly.service
  cgdcbxd.service                          rngd.service
  cgred.service                            rpcbind.service
  chrony-dnssrv@.service                   rpcbind.socket
  chrony-dnssrv@.timer                     rpcbind.target
  chronyd.service                          rpc-gssd.service
  chrony-wait.service                      rpcgssd.service
  clean-mount-point@.service               rpcidmapd.service
  colord.service                           rpc_pipefs.target
  configure-printer@.service               rpc-rquotad.service
  console-getty.service                    rpc-statd-notify.service
  console-shell.service                    rpc-statd.service
  container-getty@.service                 rsyncd.service
  cpupower.service                         rsyncd@.service
  crond.service                            rsyncd.socket
  cryptsetup-pre.target                    rsyslog.service
  cryptsetup.target                        rtkit-daemon.service
  ctrl-alt-del.target                      runlevel0.target
  cups-browsed.service                     runlevel1.target
  cups.path                                runlevel1.target.wants
  cups.service                             runlevel2.target
  cups.socket                              runlevel2.target.wants
  dbus-org.freedesktop.hostname1.service   runlevel3.target
  dbus-org.freedesktop.import1.service     runlevel3.target.wants
  dbus-org.freedesktop.locale1.service     runlevel4.target
  dbus-org.freedesktop.login1.service      runlevel4.target.wants
  dbus-org.freedesktop.machine1.service    runlevel5.target
  dbus-org.freedesktop.timedate1.service   runlevel5.target.wants
  dbus.service                             runlevel6.target
  dbus.socket                              run-vmblock\x2dfuse.mount
  dbus.target.wants                        saned@.service
  debug-shell.service                      saned.socket
  default.target                           saslauthd.service
  default.target.wants                     selinux-policy-migrate-local-changes@.service
  dev-hugepages.mount                      serial-getty@.service
  dev-mqueue.mount                         shutdown.target
  dm-event.service                         shutdown.target.wants
  dm-event.socket                          sigpwr.target
  dmraid-activation.service                sleep.target
  dnsmasq.service                          -.slice
  dracut-cmdline.service                   slices.target
  dracut-initqueue.service                 smartcard.target
  dracut-mount.service                     smartd.service
  dracut-pre-mount.service                 sockets.target
  dracut-pre-pivot.service                 sockets.target.wants
  dracut-pre-trigger.service               sound.target
  dracut-pre-udev.service                  sound.target.wants
  dracut-shutdown.service                  speech-dispatcherd.service
  ebtables.service                         spice-vdagentd.service
  emergency.service                        spice-vdagentd.socket
  emergency.target                         sshd-keygen.service
  fcoe.service                             sshd.service
  final.target                             sshd@.service
  firewalld.service                        sshd.socket
  firstboot-graphical.service              sssd-autofs.service
  flatpak-system-helper.service            sssd-autofs.socket
  fprintd.service                          sssd-nss.service
  fstrim.service                           sssd-nss.socket
  fstrim.timer                             sssd-pac.service
  fwupdate-cleanup.service                 sssd-pac.socket
  fwupd-offline-update.service             sssd-pam-priv.socket
  fwupd.service                            sssd-pam.service
  gdm.service                              sssd-pam.socket
  geoclue.service                          sssd-secrets.service
  getty-pre.target                         sssd-secrets.socket
  getty@.service                           sssd.service
  getty.target                             sssd-ssh.service
  graphical.target                         sssd-ssh.socket
  graphical.target.wants                   sssd-sudo.service
  gssproxy.service                         sssd-sudo.socket
  halt-local.service                       suspend.target
  halt.target                              swap.target
  halt.target.wants                        sys-fs-fuse-connections.mount
  hibernate.target                         sysinit.target
  hybrid-sleep.target                      sysinit.target.wants
  hypervfcopyd.service                     sys-kernel-config.mount
  hypervkvpd.service                       sys-kernel-debug.mount
  hypervvssd.service                       syslog.socket
  initial-setup-graphical.service          syslog.target.wants
  initial-setup-reconfiguration.service    sysstat.service
  initial-setup.service                    systemd-ask-password-console.path
  initial-setup-text.service               systemd-ask-password-console.service
  initrd-cleanup.service                   systemd-ask-password-plymouth.path
  initrd-fs.target                         systemd-ask-password-plymouth.service
  initrd-parse-etc.service                 systemd-ask-password-wall.path
  initrd-root-fs.target                    systemd-ask-password-wall.service
  initrd-switch-root.service               systemd-backlight@.service
  initrd-switch-root.target                systemd-binfmt.service
  initrd-switch-root.target.wants          systemd-bootchart.service
  initrd.target                            systemd-firstboot.service
  initrd.target.wants                      systemd-fsck-root.service
  initrd-udevadm-cleanup-db.service        systemd-fsck@.service
  instperf.service                         systemd-halt.service
  iprdump.service                          systemd-hibernate-resume@.service
  iprinit.service                          systemd-hibernate.service
  iprupdate.service                        systemd-hostnamed.service
  iprutils.target                          systemd-hwdb-update.service
  ipsec.service                            systemd-hybrid-sleep.service
  irqbalance.service                       systemd-importd.service
  iscsid.service                           systemd-initctl.service
  iscsid.socket                            systemd-initctl.socket
  iscsi-onboot.service                     systemd-journal-catalog-update.service
  iscsi.service                            systemd-journald.service
  iscsi-shutdown.service                   systemd-journald.socket
  iscsiuio.service                         systemd-journal-flush.service
  iscsiuio.socket                          systemd-kexec.service
  kdump.service                            systemd-localed.service
  kexec.target                             systemd-logind.service
  kexec.target.wants                       systemd-machined.service
  kmod-static-nodes.service                systemd-machine-id-commit.service
  kpatch.service                           systemd-modules-load.service
  ksm.service                              systemd-nspawn@.service
  ksmtuned.service                         systemd-poweroff.service
  libstoragemgmt.service                   systemd-quotacheck.service
  libvirtd.service                         systemd-random-seed.service
  lldpad.service                           systemd-readahead-collect.service
  lldpad.socket                            systemd-readahead-done.service
  local-fs-pre.target                      systemd-readahead-done.timer
  local-fs.target                          systemd-readahead-drop.service
  local-fs.target.wants                    systemd-readahead-replay.service
  lvm2-lvmetad.service                     systemd-reboot.service
  lvm2-lvmetad.socket                      systemd-remount-fs.service
  lvm2-lvmpolld.service                    systemd-rfkill@.service
  lvm2-lvmpolld.socket                     systemd-shutdownd.service
  lvm2-monitor.service                     systemd-shutdownd.socket
  lvm2-pvscan@.service                     systemd-suspend.service
  machine.slice                            systemd-sysctl.service
  machines.target                          systemd-timedated.service
  mdadm-grow-continue@.service             systemd-tmpfiles-clean.service
  mdadm-last-resort@.service               systemd-tmpfiles-clean.timer
  mdadm-last-resort@.timer                 systemd-tmpfiles-setup-dev.service
  mdcheck_continue.service                 systemd-tmpfiles-setup.service
  mdcheck_continue.timer                   systemd-udevd-control.socket
  mdcheck_start.service                    systemd-udevd-kernel.socket
  mdcheck_start.timer                      systemd-udevd.service
  mdmonitor-oneshot.service                systemd-udev-settle.service
  mdmonitor-oneshot.timer                  systemd-udev-trigger.service
  mdmonitor.service                        systemd-update-done.service
  mdmon@.service                           systemd-update-utmp-runlevel.service
  messagebus.service                       systemd-update-utmp.service
  microcode.service                        systemd-user-sessions.service
  ModemManager.service                     systemd-vconsole-setup.service
  multipathd.service                       system.slice
  multi-user.target                        system-update.target
  multi-user.target.wants                  system-update.target.wants
  ndctl-monitor.service                    targetclid.service
  netcf-transaction.service                targetclid.socket
  NetworkManager-dispatcher.service        target.service
  NetworkManager.service                   tcsd.service
  NetworkManager-wait-online.service       teamd@.service
  network-online.target                    timers.target
  network-pre.target                       timers.target.wants
  network.target                           time-sync.target
  nfs-blkmap.service                       tmp.mount
  nfs-client.target                        tuned.service
  nfs-config.service                       udisks2.service
  nfs-idmapd.service                       umount.target
  nfs-idmap.service                        unbound-anchor.service
  nfs-lock.service                         unbound-anchor.timer
  nfslock.service                          upower.service
  nfs-mountd.service                       usb_modeswitch@.service
  nfs-rquotad.service                      usbmuxd.service
  nfs-secure.service                       user.slice
  nfs-server.service                       var-lib-nfs-rpc_pipefs.mount
  nfs.service                              vdo.service
  nfs-utils.service                        vdo-start-by-dev@.service
  nss-lookup.target                        vgauthd.service
  nss-user-lookup.target                   virt-guest-shutdown.target
  ntpdate.service                          virtlockd-admin.socket
  ntpd.service                             virtlockd.service
  numad.service                            virtlockd.socket
  oddjobd.service                          virtlogd-admin.socket
  packagekit-offline-update.service        virtlogd.service
  packagekit.service                       virtlogd.socket
  paths.target                             vmtoolsd.service
  plymouth-halt.service                    wacom-inputattach@.service
  plymouth-kexec.service                   wpa_supplicant.service
  plymouth-poweroff.service                zram.service
  plymouth-quit.service
  ```





---

**参考：**

1. 尚硅谷官方课程。
